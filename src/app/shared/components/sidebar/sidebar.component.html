<app-navigation-bar (toggleSidenav)="toggleSidenav()">
</app-navigation-bar>
<mat-sidenav-container autosize>
  @if (isMobile) {
    <mat-sidenav #sidenav mode="side" [(opened)]="opened" (opened)="events.push('open!')"
                 (closed)="events.push('close!')">
      <mat-toolbar>
        <div class="button-column">
          @if (authenticated()) {
            @if (canAddBlogs()) {
              <a mat-button href="/create">
                <mat-icon>add</mat-icon>
                <span>Add blog</span>
              </a>
            }
            <button mat-button [matMenuTriggerFor]="menu">
              <mat-icon>person</mat-icon>
              <span>{{ userName() }}</span>
            </button>
            <mat-menu #menu="matMenu">
              <button (click)="logout()" mat-button>
                <mat-icon>logout</mat-icon>
                <span>Log Out</span>
              </button>
            </mat-menu>
          } @else {
            <button (click)="login()" mat-button>
              <mat-icon>login</mat-icon>
              <span>Log In</span>
            </button>
          }
        </div>
      </mat-toolbar>
    </mat-sidenav>
  }
  <mat-sidenav-content>
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>
